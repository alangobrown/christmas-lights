{% extends "layout.html" %}
{% block body %}

    	<h1>Raspberry Pi - Alan's RPi Page v4</h1>



        <table class="table table-striped">
          <tr>
            <th>Channel</th>
            <th>Action</th>
            <th></th>
            <th></th>
            <th>Comments/Notes</th>
          </tr>
          <tr>
            <td>1</td>
            <td>Christmas Lights</td>
            <td><a href="#"><button type="button" id = "lights-on" class="btn btn-success btn-lg">On</button></a></td>
            <td><a href="#"><button type="button" id = "lights-off" class="btn btn-default btn-lg">Off</button></a></td>
            <td>Channel is currently <span id = "lights-status"></span></td>
          </tr>
        </table>

	<p>Hostname is : {{host}}</p>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  <script>
    $("#lights-on").click(function(e){
      var channel = 99;
      console.log('About to turn channel ' + channel + ' on')
      $.get( "/lights/on/1", function( data ) {
        $( "#lights-status" ).html( data.lights );
        });
    });
    </script>
  <script>
    $("#lights-off").click(function(e){
      var channel = 99;
      console.log('About to turn channel ' + channel + ' off')
      $.get( "/lights/off/1", function( data ) {
        $( "#lights-status" ).html( data.lights );
        });
    });
    </script>      
{% endblock %}
